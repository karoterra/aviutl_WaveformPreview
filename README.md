# aviutl_WaveformPreview

[AviUtl](http://spring-fragrance.mints.ne.jp/aviutl/)
で編集中の音声波形を確認するためのプラグインです。

## 導入方法

1. [Releases](https://github.com/karoterra/aviutl_WaveformPreview/releases/)
   から最新版のZIPファイルをダウンロードしてください。
2. ZIPファイルを展開し、 `aviutl.exe` と同じ場所、または `aviutl.exe` と同じ場所にある
   `plugins` フォルダに `WaveformPreview.auf` と `WaveformPreview.exe` をコピーしてください。

## 使い方

AviUtl の`表示`→`波形プレビューの表示`メニューから波形プレビュープラグインの画面を表示してください。

### フレームの移動
波形表示領域をクリックするとそのフレームに移動します。
<kbd>←</kbd><kbd>→</kbd> キーで前後のフレーム、
<kbd>Home</kbd> キーで最初のフレーム、
<kbd>End</kbd> キーで最後のフレームに移動します。

### 波形表示領域のスクロール
波形表示領域上でホイールスクロール、またはスクロールバーで波形表示領域をスクロールします。

### 波形表示領域の拡大縮小
波形表示領域上で <kbd>Ctrl</kbd> を押しながらホイールスクロールすると波形表示領域を時間軸方向に拡大縮小します。
画面左上の縞模様が拡大度合いを表しており、これをクリックしても拡大度合いを変更できます。

拡大度合いは拡張編集プラグインとほぼ同じにしてあります。

### フレームの範囲選択
<kbd>Shift</kbd> を押しながらフレーム移動するとフレームを範囲選択します。

<kbd><kbd>Ctrl</kbd>+<kbd>A</kbd></kbd> により範囲選択を解除できます。

### プレビュー再生
<kbd>Space</kbd> を押すと現在のフレームからプレビュー再生を開始、または停止出来ます。

### キャッシュの作成
広い範囲を表示しようとしている場合や編集中のプロジェクトの内容によっては、波形を表示するのに時間がかかる場合があります。
この時間を短縮するためにキャッシュを作成することができます。
キャッシュを作成した状態ではキャッシュを作成した範囲のみ波形が表示されます。
また、キャッシュを削除するまで編集内容の変更は反映されません。

フレームを範囲選択した状態で「キャッシュ作成」ボタンを押すとその範囲のキャッシュを作成します。
範囲選択していない状態の動作は設定を参照してください。

キャッシュを削除する場合は「キャッシュ削除」ボタンを押してください。

### グリッドの表示
指定したテンポ(BPM)と拍子のグリッドを表示することができます。
表示/非表示を切り替えるには設定から変更してください。

## 設定

「設定」ボタンを押すとプラグインの設定を変更できます。

### 軸の設定
「横軸の単位」から横軸目盛りに表示する数値の単位を変更します。

「縦軸の単位」から縦軸の単位を変更します。

「デシベル下限」から、縦軸を「dB」にした場合に 0 dB から何 dB まで表示するか変更します。
0より小さい整数を入力してください。

### グリッドの設定
「グリッドの表示」からグリッドを表示するか切り替えます。

「テンポ」からグリッドの間隔を設定します。
単位は BPM で入力してください。

「拍子」から何拍おきに別の色でグリッドを表示するかを設定します。

「基準フレーム」からグリッドを時間軸方向にずらすことができます。
デフォルトは `1` です。

### その他の設定
「フレーム移動時に自動的にスクロールする」から、表示している範囲外のフレームに移動した場合に自動的にスクロールするかどうか切り替えます。

「ズームの基準」から、拡大縮小操作を行った際にどこを基準に拡大縮小するかを変更します。

「全選択時のキャッシュ範囲」から、フレームを範囲選択していないときのキャッシュ作成範囲を変更します。

### 色の設定
背景や波形など各種色の設定を変更できます。

## 更新履歴

更新履歴は [CHANGELOG](CHANGELOG.md) を参照してください。

## ライセンス

このソフトウェアは MIT ライセンスのもとで公開されます。
詳細は [LICENSE](LICENSE) を参照してください。

使用したライブラリ等については [CREDITS](CREDITS.md) を参照してください。
